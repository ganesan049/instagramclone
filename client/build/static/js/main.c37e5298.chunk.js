(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(62)},37:function(e,t,a){},38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(30),s=a.n(l),r=(a(37),a(1)),c=(a(38),a(3)),i=a(5),u=function(){var e=Object(n.useContext)(C),t=e.state,a=e.dispatch,l=Object(c.f)();console.log(t);return o.a.createElement("div",{className:"navbar-fixed"},o.a.createElement("nav",null,o.a.createElement("div",{className:"nav-wrapper white justify-content-center"},o.a.createElement(i.b,{to:t?"/":"/signin",className:"brand-logo left"},"Instagram"),o.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},t?[o.a.createElement("li",null,o.a.createElement(i.b,{to:"/profile"},"profile")),o.a.createElement("li",null,o.a.createElement(i.b,{to:"/create"},"create post")),o.a.createElement("li",null,o.a.createElement(i.b,{to:"/myFOllowersPost"},"My Following post")),o.a.createElement("li",null,o.a.createElement("a",{className:"waves-effect waves-light btn btn-primary",onClick:function(e){e.preventDefault(),localStorage.clear(),a({type:"CLEAR"}),l.push("/signin")}},"logout"))]:[o.a.createElement("li",null,o.a.createElement(i.b,{to:"/signin"},"login")),o.a.createElement("li",null,o.a.createElement(i.b,{to:"/signup"},"signup"))]))))},p=a(4),m=a.n(p),g=a(8),d=a(2),h=a.n(d),f=function(){var e=Object(n.useContext)(C),t=e.state,a=(e.dispatch,Object(n.useState)("")),l=Object(r.a)(a,2),s=l[0],c=l[1],u=Object(n.useState)([]),p=Object(r.a)(u,2),d=p[0],f=p[1],b=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.get("http://localhost:5000/allPosts",{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data.posts),JSON.stringify(e.data.posts)!==JSON.stringify(d)&&f(e.data.posts)})).catch((function(e){e.response||e.request}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[d]);return o.a.createElement("div",{className:"home"},d.length>0?d.map((function(e){console.log(e.likes);var a=!1,n=!1,l=!0;return e.likes.includes(JSON.parse(localStorage.getItem("user"))._id)&&(a=!0),e.unLikes.includes(JSON.parse(localStorage.getItem("user"))._id)&&(n=!0),console.log(e.postedBy._id.toString()===JSON.parse(localStorage.getItem("user"))._id),e.postedBy._id.toString()===JSON.parse(localStorage.getItem("user"))._id&&(l=!1),console.log(t),o.a.createElement("div",{className:"card home-card",key:e._id},o.a.createElement("h5",{style:{padding:"5px"}},o.a.createElement(i.b,{to:t&&t._id===e.postedBy._id?"/profile":"/profile/"+e.postedBy._id},e.postedBy.name),o.a.createElement("button",{className:"material-icons",style:{float:"right"},disabled:l,onClick:function(){return t=e._id,console.log(t),void h.a.delete("http://localhost:5000/deletePost/".concat(t),{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log(e.data," deletePost"),b()})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request}));var t}},"delete")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:"http://localhost:5000/".concat(e.photo),alt:"profile_img"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("a",{href:""},o.a.createElement("button",{className:"material-icons",disabled:a,onClick:function(t){var a;t.preventDefault(),a=e._id,h.a.put("http://localhost:5000/like",{postId:a},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b()})).catch((function(e){e.response||e.request}))},style:a?{color:"red"}:{color:"black"}},"thumb_up"),o.a.createElement("button",{className:"material-icons",onClick:function(t){var a;t.preventDefault(),a=e._id,h.a.put("http://localhost:5000/unlike",{postId:a},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log(e.data),b()})).catch((function(e){e.response||e.request}))},disabled:n,style:n?{color:"red"}:{color:"black"}},"thumb_down")),o.a.createElement("h6",null,e.likes.length," likes"),o.a.createElement("h6",null,e.title),o.a.createElement("p",null,e.body),e.comments.map((function(e){return o.a.createElement("h6",null,o.a.createElement("span",{key:e._id},e.text," by ",e.postedBy.name))})),o.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),console.log(s),a=t.target[0].value,n=e._id,h.a.put("http://localhost:5000/comment",{postId:a,text:n},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b()})).catch((function(e){e.response||e.request}))}},o.a.createElement("input",{type:"text",name:"",placeholder:"add a comment",value:s,onChange:function(e){return c(e.target.value)}}))))})):o.a.createElement("h1",null,"no posts to show"))},b=a(15),E=a.n(b),v=function(){var e=Object(n.useContext)(C);console.log(e);var t=Object(c.f)(),a=Object(n.useState)(""),l=Object(r.a)(a,2),s=l[0],u=l[1],p=Object(n.useState)(""),m=Object(r.a)(p,2),g=m[0],d=m[1],f=Object(n.useState)(null),b=Object(r.a)(f,2),v=b[0],y=b[1];return o.a.createElement("div",{className:"my-card"},o.a.createElement("div",{className:"card auth-card"},o.a.createElement("h2",{className:"brand-logo"},"Instagram"),o.a.createElement("input",{type:"text",className:"input-field",placeholder:"email",value:g,id:"email",onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{type:"password",className:"input-field",value:s,placeholder:"password",id:"password",onChange:function(e){return u(e.target.value)}}),o.a.createElement("a",{className:"waves-effect waves-light btn btn-primary",onClick:function(a){return function(a){a.preventDefault();var n={password:s,email:g};console.log(n),h.a.post("http://localhost:5000/signin",n).then((function(a){console.log(a),console.log(JSON.stringify(a.data.user)),localStorage.setItem("jwt",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),e.dispatch({type:"USER",payload:a.data.user}),t.push("/")})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),y(e.response.data.message),E.a.toast({html:"error"})):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))}(a)}},"button"),v?o.a.createElement("p",null,v):null,o.a.createElement(i.b,{to:"/signup"},"create new account?")))},y=a(12),j=function(){var e=Object(n.useContext)(C),t=e.state,a=e.dispatch,l=Object(n.useState)([]),s=Object(r.a)(l,2),c=s[0],i=s[1];Object(n.useEffect)((function(){h.a.get("http://localhost:5000/myPosts",{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data),i(e.data.myPosts)})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))}),[]);var u=function(){var e=Object(g.a)(m.a.mark((function e(n){var o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.target.files[0]),(o=new FormData).append("uploadImage",n.target.files[0]),e.next=5,h.a.post("http://localhost:5000/upload/img",o,{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data.message),fetch("/updateImg",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")},body:JSON.stringify({url:e.data.message})}).then((function(e){return e.json()})).then((function(e){var n=JSON.stringify(e);console.log(typeof n,typeof e,e,e.result.url),a({type:"UPDATEIMG",payload:e.result.url}),localStorage.setItem("user",JSON.stringify(Object(y.a)(Object(y.a)({},t),{},{url:e.result.url})))})).catch((function(e){return console.log(e)}))})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t&&t.email&&console.log(t.followers),o.a.createElement(o.a.Fragment,null,t&&t.name?o.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0",borderBottom:"1px solid grey"}},o.a.createElement("div",null,o.a.createElement("img",{src:t.url?"http://localhost:5000/".concat(t.url):"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS4hCfoSjWSVgLonuMDQt9DagIUMBMGi6UPyw&usqp=CAU",alt:"profile_img",style:{width:"160px",height:"160px",borderRadius:"80px"}}),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"File"),o.a.createElement("input",{type:"file",onChange:function(e){u(e)}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"upload photo"})))),o.a.createElement("div",null,o.a.createElement("h4",null,t?t.name:"..."),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"}},o.a.createElement("h6",null,c.length&&c.length>0?c.length:0," posts"),o.a.createElement("h6",null,t.followers.length&&t.followers.length>0?t.followers.length:0," ","followers"),o.a.createElement("h6",null,t.following.length&&t.following.length>0?t.following.length:0," ","following")))),o.a.createElement("div",{className:"gallery"},c.length>0?c.map((function(e){return o.a.createElement("img",{className:"item",key:e._id,src:"http://localhost:5000/".concat(e.photo),alt:"profile_img"})})):o.a.createElement("h3",null,"no post have been posted by u"))):"Loading...")},w=function(){var e=Object(c.f)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),l=a[0],s=a[1],u=Object(n.useState)(""),p=Object(r.a)(u,2),d=p[0],f=p[1],b=Object(n.useState)(""),v=Object(r.a)(b,2),y=v[0],j=v[1],w=Object(n.useState)(null),O=Object(r.a)(w,2),S=O[0],N=O[1],x=Object(n.useState)(""),C=Object(r.a)(x,2),I=C[0],k=C[1],_=Object(n.useState)(""),A=Object(r.a)(_,2),B=A[0],q=A[1],J=Object(n.useState)(!0),D=Object(r.a)(J,2),P=D[0],U=D[1];Object(n.useEffect)((function(){}),[P]);var z=function(){var e=Object(g.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files[0]),k(t.target.files[0]),(a=new FormData).append("uploadImage",t.target.files[0]),e.next=6,h.a.post("http://localhost:5000/uploadNew/img",a,{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data),q(e.data.message),U(!1)})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),N(e.response.data.message)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"my-card"},o.a.createElement("div",{className:"card auth-card"},o.a.createElement("h2",{className:"brand-logo"},"Instagram"),o.a.createElement("input",{type:"text",className:"input-field",placeholder:"name",value:l,id:"name",onChange:function(e){return s(e.target.value)}}),o.a.createElement("input",{type:"text",className:"input-field",placeholder:"email",value:y,id:"email",onChange:function(e){return j(e.target.value)}}),o.a.createElement("input",{type:"password",className:"input-field",value:d,placeholder:"password",id:"password",onChange:function(e){return f(e.target.value)}}),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"File"),o.a.createElement("input",{type:"file",onChange:function(e){z(e)}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text",value:I.name,placeholder:"upload photo"}))),o.a.createElement("a",{className:"waves-effect waves-light btn btn-primary",onClick:function(t){return function(t){t.preventDefault();var a={name:l,password:d,email:y,url:B};console.log(a),h.a.post("http://localhost:5000/signup",a).then((function(t){console.log(t),E.a.toast({html:t.data.message}),N(t.data.message),e.push("/signin")})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),N(e.response.data.message),E.a.toast({html:"error"})):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))}(t)},disabled:P},"button"),S?o.a.createElement("p",null,S):null,o.a.createElement("h5",null,o.a.createElement(i.b,{to:"/signin"},"Already have an account?"))))},O=function(){var e=Object(c.f)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(!0),u=Object(r.a)(i,2),p=u[0],d=u[1],f=Object(n.useState)(""),b=Object(r.a)(f,2),E=b[0],v=b[1],y=Object(n.useState)(""),j=Object(r.a)(y,2),w=j[0],O=j[1],S=Object(n.useState)(""),N=Object(r.a)(S,2),x=N[0],C=N[1],I=Object(n.useState)(""),k=Object(r.a)(I,2),_=(k[0],k[1]);Object(n.useEffect)((function(){console.log(l,p,E,w,x)}),[p]);var A=function(){var e=Object(g.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files[0]),O(t.target.files[0]),(a=new FormData).append("uploadImage",t.target.files[0]),e.next=6,h.a.post("http://localhost:5000/upload/img",a,{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data),C(e.data.message),d(!1)})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),_(e.response.data.message)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"card input-field auth-card"},o.a.createElement("input",{type:"text",value:l,placeholder:"title",onChange:function(e){return s(e.target.value)}}),o.a.createElement("input",{type:"text",value:E,placeholder:"body",onChange:function(e){return v(e.target.value)}}),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"File"),o.a.createElement("input",{type:"file",onChange:function(e){A(e)}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text",value:w.name,placeholder:"upload photo"}))),o.a.createElement("button",{className:"waves-effect waves-light btn btn-primary",onClick:function(t){return function(t){t.preventDefault(),console.log(E,l,x),""!==E&&""!==l&&""!==x&&fetch("http://localhost:5000/createPost",{method:"post",headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify({body:E,title:l,url:x})}).then((function(t){console.log(t),e.push("/profile")})).catch((function(e){console.log(e.response)}))}(t)},disabled:p},"submit"))},S=function(){var e=Object(n.useContext)(C),t=e.state,a=(e.dispatch,Object(n.useState)("")),l=Object(r.a)(a,2),s=l[0],c=l[1],u=Object(n.useState)([]),p=Object(r.a)(u,2),d=p[0],f=p[1],b=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.get("http://localhost:5000/getSubPost",{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data.posts),JSON.stringify(e.data.posts)!==JSON.stringify(d)&&f(e.data.posts)})).catch((function(e){e.response||e.request}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[d]);return o.a.createElement("div",{className:"home"},d.length>0?d.map((function(e){console.log(e.likes);var a=!1,n=!1,l=!0;return e.likes.includes(JSON.parse(localStorage.getItem("user"))._id)&&(a=!0),e.unLikes.includes(JSON.parse(localStorage.getItem("user"))._id)&&(n=!0),console.log(e.postedBy._id.toString()===JSON.parse(localStorage.getItem("user"))._id),e.postedBy._id.toString()===JSON.parse(localStorage.getItem("user"))._id&&(l=!1),console.log(t),o.a.createElement("div",{className:"card home-card",key:e._id},o.a.createElement("h5",null,o.a.createElement(i.b,{to:t&&t._id===e.postedBy._id?"/profile":"/profile/"+e.postedBy._id},e.postedBy.name),o.a.createElement("button",{className:"material-icons",style:{float:"right"},disabled:l,onClick:function(){return t=e._id,console.log(t),void h.a.delete("http://localhost:5000/deletePost/".concat(t),{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log(e.data," deletePost"),b()})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request}));var t}},"delete")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:"http://localhost:5000/".concat(e.photo),alt:"profile_img"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("a",{href:""},o.a.createElement("button",{className:"material-icons",disabled:a,onClick:function(t){var a;t.preventDefault(),a=e._id,h.a.put("http://localhost:5000/like",{postId:a},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b()})).catch((function(e){e.response||e.request}))},style:a?{color:"red"}:{color:"black"}},"thumb_up"),o.a.createElement("button",{className:"material-icons",onClick:function(t){var a;t.preventDefault(),a=e._id,h.a.put("http://localhost:5000/unlike",{postId:a},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log(e.data),b()})).catch((function(e){e.response||e.request}))},disabled:n,style:n?{color:"red"}:{color:"black"}},"thumb_down")),o.a.createElement("h6",null,e.likes.length," likes"),o.a.createElement("h6",null,e.title),o.a.createElement("p",null,e.body),e.comments.map((function(e){return o.a.createElement("h6",null,o.a.createElement("span",{key:e._id},e.text," by ",e.postedBy.name))})),o.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),console.log(s),a=t.target[0].value,n=e._id,h.a.put("http://localhost:5000/comment",{postId:a,text:n},{headers:{Authorization:"Bearer"+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){b()})).catch((function(e){e.response||e.request}))}},o.a.createElement("input",{type:"text",name:"",placeholder:"add a comment",value:s,onChange:function(e){return c(e.target.value)}}))))})):o.a.createElement("h1",null,"no posts to show"))},N=function(){var e=Object(n.useContext)(C),t=e.state,a=e.dispatch,l=Object(n.useState)(null),s=Object(r.a)(l,2),i=s[0],u=s[1],p=Object(c.g)().id,d=Object(n.useState)(!1),f=Object(r.a)(d,2),b=f[0],E=f[1];console.log(p);var v=function(){h.a.get("http://localhost:5000/user/".concat(p),{headers:{Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){console.log(e),u(e.data);var a=e.data.user.followers.filter((function(e){return e===t._id}));console.log(a),a.length>0?E(!0):E(!1)})).catch((function(e){e.response?(console.log(e.response),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))};Object(n.useEffect)((function(){v()}),[]);var y=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/unFollow/".concat(p),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a({type:"UDPATE",payload:{following:e.mainUser.following,followers:e.mainUser.followers}}),localStorage.setItem("user",JSON.stringify(e.mainUser))})).catch((function(e){console.log(e)}));case 2:v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/follow/".concat(p),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer"+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a({type:"UDPATE",payload:{following:e.mainUser.following,followers:e.mainUser.followers}}),localStorage.setItem("user",JSON.stringify(e.mainUser)),E(!0)})).catch((function(e){console.log(e)}));case 2:v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(i),o.a.createElement(o.a.Fragment,null,i?o.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0",borderBottom:"1px solid grey"}},o.a.createElement("div",null,o.a.createElement("img",{src:i.user.url?"http://localhost:5000/".concat(i.user.url):"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS4hCfoSjWSVgLonuMDQt9DagIUMBMGi6UPyw&usqp=CAU",alt:"profile_img",style:{width:"160px",height:"160px",borderRadius:"80px"}})),o.a.createElement("div",null,o.a.createElement("h4",null,i.user.name),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"}},o.a.createElement("h6",null,i.post.length>0?i.post.length:0," ","Posts"),o.a.createElement("h6",null,i.user.followers.length>0?i.user.followers.length:0," ","followers"),o.a.createElement("h6",null,i.user.following.length>0?i.user.following.length:0," ","following"),b?o.a.createElement("button",{className:"waves-effect waves-light btn btn-primary",onClick:function(){return y()}},"unFollow"):o.a.createElement("button",{className:"waves-effect waves-light btn btn-primary",onClick:function(){return j()}},"follow")))),o.a.createElement("div",{className:"gallery"},i&&i.post.length>0?i.post.map((function(e){return o.a.createElement("img",{className:"item",key:e._id,src:"http://localhost:5000/".concat(e.photo),alt:"profile_img"})})):o.a.createElement("h3",null,"no post have been posted by u"))):o.a.createElement("h2",null,"Loading..."))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER":return t.payload;case"UPDATE":return Object(y.a)(Object(y.a)({},e),{},{followers:t.payload.followers,following:t.payload.following});case"UPDATEIMG":return Object(y.a)(Object(y.a)({},e),{},{url:t.payload});case"CLEAR":return null;default:return e}},C=Object(n.createContext)(),I=function(){var e=Object(c.f)(),t=Object(n.useContext)(C),a=t.state,l=t.dispatch;console.log(a,l);var s=JSON.parse(localStorage.getItem("user"));return Object(n.useEffect)((function(){s?(l({type:"USER",payload:s}),e.push("/")):e.push("/signin")}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:f}),o.a.createElement(c.a,{exact:!0,path:"/signin",component:v}),o.a.createElement(c.a,{exact:!0,path:"/myFOllowersPost",component:S}),o.a.createElement(c.a,{exact:!0,path:"/profile",component:j}),o.a.createElement(c.a,{exact:!0,path:"/signup",component:w}),o.a.createElement(c.a,{exact:!0,path:"/create",component:O}),o.a.createElement(c.a,{exact:!0,path:"/profile/:id",component:N})))};var k=function(){var e=Object(n.useReducer)(x,null),t=Object(r.a)(e,2),a=t[0],l=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.Provider,{value:{state:a,dispatch:l}},o.a.createElement(i.a,null,o.a.createElement(u,null),o.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(61);s.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.c37e5298.chunk.js.map